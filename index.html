<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Smart Study Planner</title>

<style>

*{
    box-sizing:border-box;
}

body{
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg,#4e73df,#1cc88a);
    margin:0;
    padding:15px;
    color:#333;
}

.container{
    width:100%;
    max-width:650px;
    margin:auto;
    background:white;
    padding:25px;
    border-radius:12px;
    box-shadow:0 8px 25px rgba(0,0,0,0.2);
}

h1{
    text-align:center;
    color:#4e73df;
    margin-bottom:20px;
}

label{
    font-weight:bold;
    display:block;
    margin-top:15px;
    font-size:15px;
}

input,select{
    width:100%;
    padding:12px;
    margin-top:6px;
    border-radius:8px;
    border:1px solid #ccc;
    font-size:15px;
}

button{
    width:100%;
    padding:14px;
    border-radius:8px;
    border:none;
    margin-top:20px;
    background:#4e73df;
    color:white;
    font-weight:bold;
    font-size:16px;
    cursor:pointer;
    transition:0.3s;
}

button:hover{
    background:#2e59d9;
}

.result{
    margin-top:25px;
    padding:18px;
    background:#f8f9fc;
    border-radius:10px;
    font-size:15px;
    line-height:1.6;
}

.hidden{
    display:none;
}

/* üî• Mobile Optimization */
@media (max-width:480px){

    body{
        padding:10px;
    }

    .container{
        padding:18px;
        border-radius:10px;
    }

    h1{
        font-size:20px;
    }

    input,select{
        font-size:14px;
        padding:10px;
    }

    button{
        font-size:15px;
        padding:12px;
    }

    .result{
        font-size:14px;
    }
}

</style>
</head>

<body>

<div class="container">
<h1>Smart Study Planner</h1>

<label>Class:</label>
<select id="class">
    <option>9th</option>
    <option>10th</option>
    <option>11th</option>
    <option>12th</option>
    <option>College</option>
</select>

<label>Competitive Exam?</label>
<select id="competitive" onchange="toggleExam()">
    <option value="no">No</option>
    <option value="yes">Yes</option>
</select>

<div id="examSection" class="hidden">
<label>Which Exam?</label>
<select id="exam">
    <option>JEE</option>
    <option>NEET</option>
    <option>UPSC</option>
    <option>SSC</option>
    <option>Banking</option>
    <option>CUET</option>
</select>
</div>

<label>Days Left for Exam:</label>
<input type="number" id="days" placeholder="Enter days left">

<label>Daily Free Hours:</label>
<input type="number" id="hours" placeholder="Enter daily free hours">

<label>Subjects (comma separated):</label>
<input type="text" id="subjects" placeholder="Physics,Maths,Chemistry">

<button onclick="generatePlan()">Generate Study Plan</button>

<div id="output" class="result hidden"></div>

<div id="routineBtn" class="hidden">
<button onclick="generateRoutine()">Create Detailed Routine</button>
</div>

<div id="routineOutput" class="result hidden"></div>

</div>

<script>

let finalDailyStudy = 0;
let finalSubjects = [];

function toggleExam(){
    var comp = document.getElementById("competitive").value;
    if(comp === "yes"){
        document.getElementById("examSection").classList.remove("hidden");
    } else {
        document.getElementById("examSection").classList.add("hidden");
    }
}

function generatePlan(){
    var days = parseInt(document.getElementById("days").value);
    var hours = parseInt(document.getElementById("hours").value);
    var subjects = document.getElementById("subjects").value.split(",").map(s => s.trim()).filter(s => s !== "");
    var comp = document.getElementById("competitive").value;

    if(!days || !hours || subjects.length === 0){
        alert("Please fill all fields properly!");
        return;
    }

    var extra = 0;
    var examName = "";

    if(comp === "yes"){
        examName = document.getElementById("exam").value;
        extra = 2;
        if(examName === "UPSC") extra = 3;
    }

    finalDailyStudy = Math.min(hours, (subjects.length * 2) + extra);
    finalSubjects = subjects;

    var perSubject = (finalDailyStudy / subjects.length).toFixed(1);

    var resultText = "<h3>üìä Study Plan Result</h3>";
    resultText += "Recommended Daily Study Hours: <b>"+finalDailyStudy+" hrs</b><br><br>";
    resultText += "<b>Subject Wise Distribution:</b><br>";

    subjects.forEach(function(sub){
        resultText += sub + " ‚Üí " + perSubject + " hrs<br>";
    });

    if(comp === "yes"){
        resultText += "<br>üéØ Competitive Exam: <b>"+examName+"</b>";
    }

    document.getElementById("output").innerHTML = resultText;
    document.getElementById("output").classList.remove("hidden");
    document.getElementById("routineBtn").classList.remove("hidden");
}

function generateRoutine(){

    if(finalDailyStudy === 0){
        alert("Generate study plan first!");
        return;
    }

    var routineText = "<h3>üìÖ Detailed Daily Routine</h3>";

    let startTime = 6; 
    let studyPerSubject = finalDailyStudy / finalSubjects.length;

    for(let i = 0; i < finalSubjects.length; i++){

        let endTime = startTime + studyPerSubject;

        routineText += "üïí " 
            + formatTime(startTime) + " - " 
            + formatTime(endTime) + " ‚Üí " 
            + finalSubjects[i] + "<br>";

        startTime = endTime;
    }

    routineText += "<br>üîÅ Last 30 mins: Revision";

    document.getElementById("routineOutput").innerHTML = routineText;
    document.getElementById("routineOutput").classList.remove("hidden");
}

function formatTime(time){
    let hour = Math.floor(time);
    let minutes = Math.round((time % 1) * 60);

    if(minutes === 60){
        hour += 1;
        minutes = 0;
    }

    return hour + ":" + (minutes < 10 ? "0" + minutes : minutes);
}

</script>

</body>
</html>
